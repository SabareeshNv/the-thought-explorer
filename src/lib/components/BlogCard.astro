---
import { Picture } from "@astrojs/image/components";
import { slugify } from "@utils/helpers";
import FormattedDate from "./FormattedDate.astro";

const { post } = Astro.props;
const { title, summary, pubDate, category, image } = post.data;
---

<article class="flex flex-col">
  <a href={`/blog/${post.slug}/`}>
    <Picture
      src={image.src}
      alt={image.alt}
      widths={[200, 400, 800]}
      sizes="(max-width: 800px) 100vw, 800px"
      aspectRatio="16:9"
      class="rounded-t"
    />
  </a>

  <a
    href={`/category/${slugify(category)}`}
    class="text-sm tracking-wider font-medium text-red-900 hover:text-red-700 uppercase py-3"
    >{category}</a
  >

  <h2 class="text-2xl lg:text-3xl font-medium font-heading pb-8 heading">
    <a href={`/blog/${post.slug}/`}>{title}</a>
  </h2>
  <div>
    {summary}
  </div>

  <div class="flex items-center space-x-1 pt-6 mt-auto">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="w-5 h-5"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>

    <FormattedDate date={pubDate} class="text-sm font-light" />
  </div>
</article>
