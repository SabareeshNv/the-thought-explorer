---
import BaseLayout from "./BaseLayout.astro";
import FormattedDate from "@components/FormattedDate.astro";
import { slugify, getReadingTime } from "@utils/helpers";
import { Picture } from "@astrojs/image/components";

const { title, pubDate, image, category } = Astro.props;

const description = "This is the description";
---

<BaseLayout title={title} description={description}>
  <main class="layout">
    <div class="max-w-4xl mx-auto">
      <span
        class="text-md text-purple-900 hover:text-purple-700 hover:underline font-medium uppercase tracking-wider"
      >
        <a href={`/category/${slugify(category)}`}>{category}</a></span
      >
      <h1
        class="font-heading font-medium leading-tight heading text-3xl md:text-4xl lg:text-5xl mt-2"
      >
        {title}
      </h1>
      <div class="flex items-center mt-4">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <FormattedDate
          date={pubDate}
          class="text-gray-900 tracking-wide block text-md ml-1"
        />
      </div>

      <Picture
        src={image.src}
        alt={image.alt}
        widths={[200, 400, 800, 1000]}
        sizes="(max-width: 800px) 100vw, 800px"
        aspectRatio="16:9"
        class="rounded-md shadow-md mt-6"
      />

      <article class="typography">
        <slot />
      </article>
    </div>
  </main>
</BaseLayout>
